{"version":3,"file":"modal_save_delete_cancel-lazy.min.js","sources":["../src/modal_save_delete_cancel-lazy.js"],"sourcesContent":["import $ from 'jquery';\nimport Notification from 'core/notification';\nimport CustomEvents from 'core/custom_interaction_events';\nimport Modal from 'core/modal';\nimport ModalRegistry from 'core/modal_registry';\n\nvar registered = false;\nvar SELECTORS = {\n    SAVE_BUTTON: '[data-action=\"save\"]',\n    CANCEL_BUTTON: '[data-action=\"cancel\"]',\n    DELETE_BUTTON: '[data-action=\"delete\"]',\n};\n\n/**\n * Constructor for the Modal.\n *\n * @param {object} root The root jQuery element for the modal\n */\nvar ModalType = function(root) {\n    Modal.call(this, root);\n\n    if (!this.getFooter().find(SELECTORS.SAVE_BUTTON).length) {\n        Notification.exception({message: 'No save button found'});\n    }\n\n    if (!this.getFooter().find(SELECTORS.DELETE_BUTTON).length) {\n        Notification.exception({message: 'No delete button found'});\n    }\n\n    if (!this.getFooter().find(SELECTORS.CANCEL_BUTTON).length) {\n        Notification.exception({message: 'No cancel button found'});\n    }\n};\nModalType.TYPE = 'lytix_planner-modal_save_delete_cancel';\nModalType.prototype = Object.create(Modal.prototype);\nModalType.prototype.constructor = ModalType;\n\n/**\n * Set up all of the event handling for the modal.\n *\n * @method registerEventListeners\n */\nModalType.prototype.registerEventListeners = function() {\n    // Apply parent event listeners.\n    Modal.prototype.registerEventListeners.call(this);\n\n    this.registerCloseOnSave();\n\n    this.getModal().on(CustomEvents.events.activate, SELECTORS.DELETE_BUTTON, function(e, data) {\n        var deleteEvent = $.Event('modal-save-delete-cancel:delete');\n        this.getRoot().trigger(deleteEvent, this);\n\n        if (!deleteEvent.isDefaultPrevented()) {\n            data.originalEvent.preventDefault();\n\n            if (this.removeOnClose) {\n                this.destroy();\n            } else {\n                this.hide();\n            }\n        }\n    }.bind(this));\n\n    this.registerCloseOnCancel();\n};\n// Automatically register with the modal registry the first time this module is imported\n// so that you can create modals of this type using the modal factory.\nif (!registered) {\n    ModalRegistry.register(ModalType.TYPE, ModalType, 'lytix_planner/modal_save_delete_cancel');\n    registered = true;\n}\n\nexport default ModalType.TYPE;\n"],"names":["registered","SELECTORS","ModalType","root","call","this","getFooter","find","length","exception","message","TYPE","prototype","Object","create","Modal","constructor","registerEventListeners","registerCloseOnSave","getModal","on","CustomEvents","events","activate","e","data","deleteEvent","$","Event","getRoot","trigger","isDefaultPrevented","originalEvent","preventDefault","removeOnClose","destroy","hide","bind","registerCloseOnCancel","register"],"mappings":"4qBAMIA,YAAa,EACbC,sBACa,uBADbA,wBAEe,yBAFfA,wBAGe,yBAQfC,UAAY,SAASC,qBACfC,KAAKC,KAAMF,MAEZE,KAAKC,YAAYC,KAAKN,uBAAuBO,8BACjCC,UAAU,CAACC,QAAS,yBAGhCL,KAAKC,YAAYC,KAAKN,yBAAyBO,8BACnCC,UAAU,CAACC,QAAS,2BAGhCL,KAAKC,YAAYC,KAAKN,yBAAyBO,8BACnCC,UAAU,CAACC,QAAS,4BAGzCR,UAAUS,KAAO,0CACjBT,UAAUU,UAAYC,OAAOC,OAAOC,eAAMH,YACtBI,YAAcd,UAOlCA,UAAUU,UAAUK,uBAAyB,0BAEnCL,UAAUK,uBAAuBb,KAAKC,WAEvCa,2BAEAC,WAAWC,GAAGC,mCAAaC,OAAOC,SAAUtB,wBAAyB,SAASuB,EAAGC,UAC9EC,YAAcC,gBAAEC,MAAM,wCACrBC,UAAUC,QAAQJ,YAAarB,MAE/BqB,YAAYK,uBACbN,KAAKO,cAAcC,iBAEf5B,KAAK6B,mBACAC,eAEAC,SAGfC,KAAKhC,YAEFiC,yBAIJtC,qCACauC,SAASrC,UAAUS,KAAMT,UAAW,0CAClDF,YAAa,gBAGFE,UAAUS"}